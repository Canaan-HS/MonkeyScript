# **增強網站使用體驗**

## ⚠️ 近期網站頻繁變更，部份功能隨時都有失效的可能 或出現 BUG，有問題請反饋

---

## **👻 使用方法**

1. 安裝瀏覽器腳本管理工具（如 [Tampermonkey](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)）
2. [安裝腳本](https://update.greasyfork.org/scripts/472096/Kemer%20%E5%A2%9E%E5%BC%B7.user.js)
3. 前往
   - [kemono](https://kemono.cr/)
   - [coomer](https://coomer.st/)
   - [nekohouse](https://nekohouse.su/)

---

## **📜 功能概述**

### **設置菜單（僅限帖子內）**

- 設置原圖，寬高與間距，及時預覽變更
- 菜單語言支援 (預設英語)
  - 繁體中文
  - 簡體中文
  - 日語
  - 英語
  - 韓語
  - 俄語

## **⚙️ 額外配置（代碼上方）**

|     **參數**      |                          **說明**                           | **預設值** |
| :---------------: | :---------------------------------------------------------: | :--------: |
|    `BlockAds`     |                        簡單阻擋廣告                         |   `true`   |
|   `CacheFetch`    |          同分頁下緩存 Fetch 數據，加快後續相同載入          |   `true`   |
|  `DeleteNotice`   |                          刪除公告                           |   `true`   |
| `SidebarCollapse` |                  側邊攔摺疊，滑鼠靠近恢復                   |   `true`   |
|    `KeyScroll`    |                  鍵盤熱鍵功能 ↑↓ 自動滾動                   |   `true`   |
|   `TextToLink`    |           將文本形式的連結字串，轉換成可點擊連結            |   `true`   |
| `BetterPostCard`  | Pixiv 名稱修正網站顯示名稱，可自定名稱，與來源網站 Tag 直連 |   `true`   |
|    `CardZoom`     |                       調整預覽卡大小                        |   `true`   |
|    `CardText`     |                     調整預覽卡文字效果                      |   `true`   |
| `BetterThumbnail` |                將預覽卡圖片變更為帖子內圖片                 |   `true`   |
| `QuickPostToggle` |            快速切換帖子預覽 (目前僅限 nekohouse)            |   `true`   |
|   `NewTabOpens`   |                  將頁面跳轉都以新分頁開啟                   |   `true`   |
|   `ExtraButton`   |        額外的下方按鈕，用於快速回到頂部，與直接換頁         |   `true`   |
|  `LinkBeautify`   |   美化下載連結，並讓 (browse ») 可用滑鼠懸浮直接顯示內容    |   `true`   |
|  `CommentFormat`  |                       調整評論的排版                        |   `true`   |
|  `VideoBeautify`  |      美化影片的樣式，並將影片下載連結，顯示於標題位置       |   `true`   |
|  `OriginalImage`  |                          自動原圖                           |   `true`   |

## **📜 其他說明**

```
設置選單 (沒有及時響應，可以重新整理頁面)

目前只可以在帖子內，也就是可以自動原圖的地方，才會出現設置選單，於上方插件開啟
當前只有調整圖片大小功能，我一個沒設計美感的人，真的很懶得去完成後續菜單w


KeyScroll:
(模式的差異就是實現方式，根據使用者喜歡自己選擇)
↑ ↓ 鍵盤觸發，按下滾動時，再次按下會停止，按反方向只會觸發，反向的滾動

[1] 動畫幀滾動
[2] 間隔滾動

CardText:
[1] 帖子預覽頁面，預覽卡文字隱藏，滑鼠移動過去後恢復
[2] 帖子預覽頁面，預覽卡文字淡化，滑鼠移動過去後恢復

CardZoom:
[1] 預覽卡放大 [ v0.0.46 以前的都是他 ]
[2] 預覽卡放大 + 懸浮縮放

VideoBeautify:
[1] 將 Download 的區域的下載連結，複製到影片的上方作為標題，可直接點上方標題下載，或滾動到 Download 區域下載
[2] 將 Download 的區域的下載連結，移動到影片的上方作為標題，可直接點上方標題下載，Download 區域有重複的會被移除掉

OriginalImage:
[1] 快速的自動原圖，網路和電腦負擔較高，但速度較快
[2] 超慢的自動原圖，會等到一張圖載入完成，才會載入下一張，對網路和電腦負擔低，但速度超慢
[3] 滾動觀看時觸發載入原圖，沒觀看就不會自動載原圖，對網路和電腦負擔取決於你滾輪多快，載入速度中等

原圖實驗渲染方式 (有時候伺服器問題會導致卡住，也可以手動點擊觸發):
要恢復將 experiment 改成 false

原先是直接替換預覽圖片，接著等待原圖載入
實驗方式改成，先獲取原圖數據，在進行替換，載入時 預覽圖會有綠框指示器，並且會顯示載入進度
```

---

## 📣 問題反饋

> 首先這些腳本原本為我個人使用所撰寫，後續純粹分享提供給有需要的人。
>
> 作為一位免費提供腳本的開發者，我並未收取任何費用，也無義務為所有情況提供支援，因此懇請您在反饋時保持基本的尊重與友善。

#### ❓ 提交問題前，請注意以下要點：

**不確定是bug還是設定問題？** 請使用「詢問」的方式描述您的狀況，而非直接斷定腳本有錯誤。

#### 🔍 描述參考：

- **🖥️ 執行環境**：瀏覽器、腳本管理器(Tampermonkey等)、系統平台
- **🧭 操作過程**：詳細的步驟說明，不要只提供簡短敘述
- **🎯 預期結果**：您希望達到什麼效果，實際上發生了什麼
- **🤖 建議(選填)**：若方便，請先嘗試讓AI協助理解您的問題，並附上轉述結果

#### ⚠️ 重要提醒：

**這是免費腳本，非商業產品**

若您的反饋缺乏細節、情緒化、不具建設性，或只是簡單一句話，我將無法也不會花時間猜測您的意思，這類反饋只會消耗開發熱情與時間。

#### 💡 請理解：

**開發、測試與維護腳本需要投入大量心力** ，輕率的負面評價可能使開發者感到挫折，甚至選擇停止維護，請珍惜這些免費資源，並以具體、理性的方式回報問題。

**如果您不願協助釐清問題，只想發洩後離開**，建議您可以選擇不使用本腳本，不要浪費彼此的時間。

**後續若出現模糊不清、缺乏建設性的留言，我將選擇忽略，最終可能放棄腳本維護，感謝您的理解與配合。**

---

## **🔗 相關連結**

- **開發環境**：[Greasy Fork](https://greasyfork.org/zh-TW/users/989635-canaan-hs)
- **GitHub 倉庫**：[GitHub](https://github.com/Canaan-HS/MonkeyScript/tree/main/KemerEnhance)

---

## **💻 開發者額外說明**

相容性建議：

- **避免 CacheFetch 緩存干擾**  
  - 若需要完整請求最新 API 內容，而非被快取覆蓋，可在 Fetch 請求中加上自訂標頭：  
    ```
    X-Bypass-CacheFetch: true
    ```
  - 腳本檢測到該標頭時，將繞過內部快取邏輯，直接發送實際請求。

- **避免 LinkBeautify 修改 Download 區塊**  
  - 預設情況下，腳本會為 Downloads 區塊加上美化標記。  
  - 若你需要抓取原始 DOM，請額外過濾：  
    ```css
    :not([beautify])
    ```

- **避免 OriginalImage 改寫 Files 區塊**  
  - 腳本可能將預覽圖替換為原始圖，影響節點結構。  
  - 若要穩定取得檔案來源，建議使用：  
    ```javascript
    // 例子
    document.querySelector("a, rc, img")
    ```
  - 並查找節點的 `.href || .src` 以確保兼容。

---

## **📦 版本資訊**

**發佈版本：2025.10.13-Beta**

### **更新內容**
1. 更新工具庫
2. 修復已知 Bug
3. BetterThumbnail 移除對 nekohouse 的支援
4. BetterPostCard 保存數據轉移 [實驗性]
5. TextToLink 添加，Mega 雲端連結自動解密 [實驗性]
6. CacheFetch 實現修改，並加入長時緩存 [實驗性] (如果有記憶體的問題請反饋)

Mega 連結解析僅適用一些簡單的頁面格式，且只會對純文本生效，這是一個附加功能沒生效也不用在意

### **已知問題**
1. 有時頁面載入速度，會慢於代碼功能載入，會導致功能失效，通常重新整理即可解決

---