# **メディアワンクリックダウンロード & データ取得ツール**

## ⚠️ 最近ウェブサイトの変更が頻繁に発生しており、一部の機能はいつでも無効になったりバグが発生する可能性があります。問題があればフィードバックをお願いします。

---

## **👻 使用方法**

1. ブラウザのユーザースクリプト管理ツールをインストール（例：[Tampermonkey](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)）  
2. [スクリプトをインストール](https://update.greasyfork.org/scripts/472282/Kemer%20%E4%B8%8B%E8%BC%89%E5%99%A8.user.js)  
3. 以下のサイトへアクセス  
   - [kemono](https://kemono.su/)  
   - [coomer](https://coomer.su/)  
   - [nekohouse](https://nekohouse.su/)  

---

## **⚠️ 使用上の注意**
- ページで元画像がすべて表示されてからダウンロードを押してください  
- 現在のページに Files タブがない場合、ダウンロードボタンは作成されません  
- ページの読み込みが速すぎると、MutationObserver が間に合わず、ボタンが作成されない場合があります  

## **📜 機能概要**

### **ダウンロードボタン**
- ページの Files タブの横に作成されます。目立たないと感じるかもしれませんが、それは設計上の意図です  

### **ダウンロードモードの切り替え**
- 圧縮ダウンロード  
- 単一画像ダウンロード（新しいプラグインは不安定です）  

### **ワンクリック投稿オープン（プレビュー画面のみ）**
- 開始範囲を入力し、現在のページのすべての投稿を自動で開きます  

### **データ取得（プレビュー画面のみ）**
- 現在のページから最後のページまで、投稿に関連するデータを取得します（デフォルト Json）  
- 特定のタイプを除外したり、ToLinkTxt を有効にして Txt に変換（ダウンロードリンクのみを含む）できます [IDM および Aria2 インポート形式をサポート]  

## **⚙️ 追加設定（コード冒頭部分）**
|    **パラメータ**    |                        **説明**                        | **デフォルト** |
| :------------------: | :----------------------------------------------------: | :------------: |
|        `Dev`         |       開発モード、コンソールにデバッグ情報を出力       |    `false`     |
|   `IncludeExtras`    | 画像以外の添付ファイルもダウンロードし、時間が大幅増加 |    `false`     |
|   `CompleteClose`    |        ダウンロード完了後に自動でページを閉じる        |    `false`     |
|  `ConcurrentDelay`   |         ダウンロードリクエスト送信の遅延 (ms)          |     `500`      |
| `ConcurrentQuantity` |               同時に実行するリクエスト数               |      `5`       |
|   `BatchOpenDelay`   |      ワンクリック投稿オープン時の各投稿遅延 (ms)       |     `500`      |

---

## 📣 フィードバック

> これらのスクリプトは当初は個人的に使用するために作成したもので、その後必要な方に共有しています。  
>
> 無料でスクリプトを提供している開発者として、私は料金を受け取らず、またすべての状況に対応する義務もありません。したがって、フィードバック時には基本的な尊重と礼儀を守っていただきたいと思います。  

#### ❓ 問題を報告する前に、以下の点にご注意ください：

**バグか設定の問題か分からない？** その場合は、状況を「質問」の形で説明してください。スクリプトに誤りがあると即断しないようにしてください。  

#### 🔍 記述の参考:

- **🖥️ 実行環境**：ブラウザ、スクリプト管理ツール（Tampermonkey など）、OS  
- **🧭 操作過程**：詳細なステップを説明、短い記述だけにしない  
- **🎯 期待される結果**：期待した動作と実際の結果  
- **🤖 提案（任意）**：可能であれば、AI に問題の理解を手伝わせ、その要約を添付してください  

#### ⚠️ 重要な注意事項：

**これは無料スクリプトであり、商用製品ではありません**  

フィードバックが詳細を欠いていたり、感情的、非建設的、あるいは一言だけの場合、私が意味を推測する時間をかけることはありません。そのようなフィードバックは開発の意欲と時間を消耗させるだけです。  

#### 💡 ご理解ください：

**スクリプトの開発、テスト、維持には多大な労力が必要です。** 軽率な否定的評価は開発者を落胆させ、保守を放棄する可能性さえあります。無料のリソースを大切にし、問題は具体的かつ理性的に報告してください。  

**もし問題の解明に協力せず、ただ不満を表して去りたいだけであれば、** このスクリプトを使用しないことをお勧めします。互いの時間を無駄にしないためです。  

**今後、不明瞭で建設性のないコメントがあれば、無視することを選択します。最終的にはスクリプトの保守を放棄するかもしれません。ご理解とご協力を感謝します。**  

---

## **🔗 関連リンク**

- **開発環境**：[Greasy Fork](https://greasyfork.org/zh-TW/users/989635-canaan-hs)  
- **GitHub リポジトリ**：[GitHub](https://github.com/Canaan-HS/MonkeyScript/tree/main/KemerDownloader)  

---

## **📦 バージョン情報**

**リリースバージョン：2025.09.03-Beta**  

### **更新内容**
現在、サイトの API は頻繁に変更されており、互換性を確保するために大規模なテストが必要です。個人開発者として、スクリプトテストにすべての精力を投入することはできません。サポートの問題があれば、エラー状況と対応するページ URL を報告してください。  

1. **互換性修正**
   - 最近のサイト変更に対応する調整  
   - KemerEnhance スクリプトの変更に適応  
2. **ダウンロード機能の最適化**
   - 圧縮処理を改善し、速度を向上  
3. **データ取得の最適化**
   - より多くの外部リンク形式の解析をサポートし、Mega パスワードフィールド解析を追加  
   - 現在、新バージョンの API は AdvancedFetch のみをサポートし、通常の Fetch は無効  

### **既知の問題**
1. Tampermonkey の新しいバージョンの GM_download API には不具合があり、単一画像のダウンロードでエラーが発生します。圧縮ダウンロードのみを使用することを推奨します。  

---