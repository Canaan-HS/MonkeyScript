# **[ Eh/Ex ] 簡易画像ダウンローダー**

---

## **👻 使用方法**

1. ブラウザのスクリプト管理ツールをインストール（[Tampermonkey](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)）
2. [スクリプトをインストール](https://update.greasyfork.org/scripts/472882/%5BEEx-Hentai%5D%20Downloader.user.js)
3. [e-hentai](https://e-hentai.org/) または [exhentai](https://exhentai.org/) にアクセス

---

## **⚠️ 使用上の注意**
- ネットワーク速度やサーバー応答が遅いと「ページ数が欠けている| ダウンロードが遅い | 完全にフリーズ」といった問題が発生しやすい
- データリクエストと処理には速度制限があり、短時間で大量にリクエストするとIPが一時的にBanされることがあるので、IPを変更すれば解決する
- 長時間動かない場合、リロードを試みてください。IPがBanされているか、サーバーに問題のあるページがある可能性があります

## **📜 機能概要**

### **ダウンロードボタン**
- 漫画ページの右上にダウンロードボタンを作成、クリックで直接ダウンロード

### **ダウンロードモードの切替**
- 圧縮ダウンロード
- 単画像ダウンロード（新しいバージョンで問題あり）

### **ダウンロード範囲の設定**
- 指定した範囲をダウンロード（完了後、設定はデフォルトに戻る）

### **強制圧縮**
- リンクに問題がある場合、データを取得できずにフリーズすることがあるため、強制的に圧縮して既にダウンロードされた内容を取得する

## **⚙️ 追加設定（コード上部）**

| **パラメータ**  | **説明**                                                                                         | **デフォルト値** |
| :-------------- | :----------------------------------------------------------------------------------------------- | :--------------- |
| `Dev`           | 開発モードを有効にし、コンソールにデバッグ情報を表示                                             | `false`          |
| `ReTry`         | ダウンロード失敗時のリトライ回数。回数を超えるとそのファイルをスキップ                           | `10`             |
| `Original`      | 原画像を優先してダウンロード（データ制限あり、制限の問題は未処理）                               | `false`          |
| `ResetScope`    | ダウンロード範囲設定後、デフォルトにリセットするかどうか（リセットしない場合、前回の設定を保持） | `true`           |
| `CompleteClose` | ダウンロード完了後に自動でページを閉じる                                                         | `false`          |

---

## **🔗 関連リンク**

- **開発環境**：[Greasy Fork](https://greasyfork.org/ja/users/989635-canaan-hs)  
- **GitHub リポジトリ**：[GitHub](https://github.com/Canaan-HS/MonkeyScript/tree/main/ExDownloader)

---

## **📦 バージョン情報**

**リリースバージョン：0.0.16** 

### **更新内容**
1. API更新
2. 言語サポートの追加
3. 一部の翻訳を修正

### **既知の問題**
❗️ 現在、どのサイトに問題があるのかは不明ですが、以前は正常に動作していたロジックに多くの問題が発生しています。少しイライラしています

現在のバグは修正する時間がありません（時々発生します）[旧バージョンへのダウングレードを推奨]：
1. 新しいバージョンのプラグインでは、`GM_xmlhttpRequest` を使って画像をダウンロードする際、奇妙な問題が発生することがあり、長時間フリーズしたり、直接フリーズすることがあります

---